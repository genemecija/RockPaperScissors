<!-- TheOdinProject Assignment: Rock Paper Scissors -->

<html>

<head>
    <title>Rock, Paper, Scissors!</title>
</head>

<body>
    
<script>
    const choices = ['rock', 'paper', 'scissors']
    const choicesDict = {'rock':{'beats':'scissors', 'losesTo':'paper'},
                    'paper':{'beats':'rock', 'losesTo':'scissors'},
                    'scissors':{'beats':'paper', 'losesTo':'rock'}}
    const computerPlay = () => choices[Math.floor((Math.random() * 3))]

    function playRound(playerSelect, computerSelection) {
        playerSelection = playerSelect.toLowerCase()
        if (playerSelection in choicesDict) {
            if (playerSelection == computerSelection) {
                return(`You both picked ${playerSelection}! Please try again!`)
            }
            else if (playerSelection == choicesDict[computerSelection]['beats']) {
                return(`You\'ve lost this round! ${computerSelection.slice(0,1).toUpperCase()+computerSelection.slice(1,)} beats ${playerSelection}.`)
            }
            else if (playerSelection == choicesDict[computerSelection]['losesTo']) {
                return(`You\'ve won this round! ${playerSelection.slice(0,1).toUpperCase()+playerSelection.slice(1,)} beats ${computerSelection}.`)
            }
        }
        else {
            return('Uh-oh, that isn\'t a valid choice! Please choose Rock, Paper, or Scissors!')
        }
    }

    function game() {
        let gameCount = 5
        let playerScore = 0
        let computerScore = 0
        let gameResult = 'winner'
        while (gameCount > 0) {
            result = playRound(prompt("Choose Rock, Paper, or Scissors."), computerPlay())
            if (result.search('won')!=-1) {
                playerScore += 1
                console.log(result + ` Score: You:${playerScore}, Computer:${computerScore}`)
                gameCount -= 1
            }
            else if (result.search('lost')!=-1) {
                computerScore += 1
                console.log(result + ` Score: You:${playerScore}, Computer:${computerScore}`)
                gameCount -= 1
            }
            else {
                console.log(result)
            }
        }
        if (playerScore > computerScore) {
            console.log(`Game Over! You've won the game!`)
        }
        else {
            console.log(`Game Over! You've lost the game!`)
        }
    }

</script>
</body>

</html>